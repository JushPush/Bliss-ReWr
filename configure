#!/bin/bash

<<IMPORTANT 

Only use for release builds (Otherwise you'll spend a lot of time cleaning up files)

IMPORTANT

# Default Options
BUILD_DIR="build"
CMAKE_GENERATOR="Unix Makefiles"
BUILD_TYPE="Release"
CMAKE_OPTIONS="$CMAKE_OPTIONS"

# Create build script
touch BUILD && chmod +x BUILD
if [ -f BUILD ]
    echo "#!/bin/bash" > BUILD
    echo "" > BUILD
    echo "echo \"Build\"" > BUILD echo
    echo "" > BUILD
    echo "cmake --build \"$BUILD_DIR\" --config \"$BUILD_TYPE\"" > BUILD echo
fi

# Create build dir
cmake "$CMAKE_OPTIONS" -G "$CMAKE_GENERATOR" -B "$BUILD_DIR"

echo "Run './BUILD' to build"